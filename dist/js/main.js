'use strict';$(document).ready(function(){var products=[];// Update total number of items in cart
function updateCart(_id,_target){products.push(_id);var totalNumber=products.length;if(totalNumber>0&&!$(_target).prop('disabled')){$('.js-cart-bubble').addClass('in').text(totalNumber)}var itemsDeconst=[].concat(items);// Get the index of the added item
var targetIndex=itemsDeconst.findIndex(function(item){return item.id===_id});// Append the cart list with the product details
$('#cart').append('<li>'+items[targetIndex].copy+'</li>');// Inform the user that the item has been added
var initialText=$(_target).text();var flashText='Item added';$(_target).text(flashText).addClass('confirm').prop('disabled',true);setTimeout(function(){$(_target).prop('disabled',false).removeClass('confirm').text(initialText)},1000)}// 'Add to Cart' handler
$(document).on('click','.js-item-add',function(){// Get the item id and push it
updateCart($(this).parents('.card').data('item'),$(this))})});$(window).on('scroll touchmove',function(){// Toggle header on window scroll
if($(document).scrollTop()>20){$('header').addClass('in')}else{$('header').removeClass('in')}}).scroll();// Generate content for each item (body)
var createItem=function createItem(codeId,img,imgHD,copy,altText){return'\n        <li>\n            <div class="card" data-item="'+codeId+'">\n                <div class="card__img">\n                    <picture>\n                        <source media="(min-width: 640px), (min-resolution: 120dpi)" srcset="'+imgHD+'">\n                        <img class="img-responsive" src="'+img+'" alt="'+altText+'">\n                    </picture> \n                    <div class="card__overlay">\n                        <button class="btn card__btn js-item-add" type="button">Add to Cart</button>\n                    </div>\n                </div>\n                <p class="card__copy">\n                    '+copy+'\n                </p>\n            </div>\n        </li>\n\n    '};// Define all the products
var items=[{id:1001,img:['img/h38ss-dtbl-sel-201603.png','img/h38ss-dtbl-sel-201603@2x.png'],copy:'42mm Space Gray Aluminum Case with Black Woven Nylon',altText:'watch'},{id:1002,img:['img/s42gd-nsgb-sel-201603.png','img/s42gd-nsgb-sel-201603@2x.png'],copy:'42mm Gold Aluminum Case with Gold/Royal Blue Woven Nylon',altText:'watch'},{id:1003,img:['img/s42rg-nsdb-sel-201603.png','img/s42rg-nsdb-sel-201603@2x.png'],copy:'42mm Rose Gold Aluminum Case with Royal Blue Woven Nylon',altText:'watch'},{id:1004,img:['img/s42si-nssb-sel-201603.png','img/s42si-nssb-sel-201603@2x.png'],copy:'42mm Silver Aluminum Case with Scuba Blue Woven Nylon',altText:'watch'},{id:1005,img:['img/h38ss-dtgr-sel-201603.png','img/h38ss-dtgr-sel-201603@2x.png'],copy:'Double Tour, 38mm Stainless Steel Case with Etain Leather Band',altText:'watch'},{id:1006,img:['img/h38ss-dtrd-sel-201603.png','img/h38ss-dtrd-sel-201603@2x.png'],copy:'Double Tour, 38mm Stainless Steel Case with Capucine Leather Band',altText:'watch'},{id:1007,img:['img/h38ss-dtbl-sel-201603.png','img/h38ss-dtbl-sel-201603@2x.png'],copy:'Double Tour, 38mm Stainless Steel Case with Bleu Jean Leather Band',altText:'watch'},{id:1008,img:['img/h42ss-stbk-sel-201603.png','img/h42ss-stbk-sel-201603@2x.png'],copy:'Double Tour, 38mm Stainless Steel Case with Bleu Jean Leather Band',altText:'watch'}];var itemsList=[];// Initialize the products
var itemsLen=items.length;for(var i=0;i<itemsLen;i++){var entry=createItem(items[i].id,items[i].img[0],items[i].img[1],items[i].copy,items[i].altText);itemsList.push(entry)}// Render all the products to page
$('#app').append([].concat(itemsList));
